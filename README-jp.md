
[English](README.md) | [日本語](README-jp.md) | [العربية](README-ar.md) | [Português](README-pt.md) | [Español](README-es.md)

# 深圳企業ミニプログラム ドキュメント

## 概要
これは深圳の企業向けに開発された**UniApp**ベースのクロスプラットフォームミニプログラムです。アクティビティ管理、決済システム、認証フロー、コンテンツ共有機能を備えています。Vue.jsの最新プラクティスとUniApp拡張を活用したコードベースです。

## 主な特徴とコンポーネント

### 1. アクティビティ管理 (`activity.vue`)
```vue
<u-count-down :timestamp="invite_info.times" separator="zh"></u-count-down>
<button open-type="share">シェアを続ける</button>
````

* **レッドパケットキャンペーン**：制限時間付き報酬イベント、カウントダウンタイマー付き
* **招待システム**：招待ユーザー数と報酬閾値を追跡
* **WeChatシェア**：ネイティブ共有機能とカスタムパス
* **レスポンシブデザイン**：ナビゲーションバーの動的高さ計算

### 2. 決済システム (`pay.vue`)

```vue
<u-radio-group v-model="payType">
  <u-radio name="1">WeChatペイ</u-radio>
  <u-radio name="2">バウチャー利用</u-radio>
</u-radio-group>
<button @click="pay()">今すぐ支払う</button>
```

* **二つの決済方法**：

  * WeChatペイ統合
  * バウチャー/ポイント利用システム
* **安全な取引**：トークン認証付きの決済APIラップ
* **広告統合**：決済成功後のインタースティシャル広告

### 3. 企業認証 (`auth.vue`)

```vue
<input name="name" placeholder="会社名">
<button @click="upload(1)">営業許可証をアップロード</button>
```

* **ビジネス認証**：

  * 会社名登録
  * 営業許可証アップロード
  * 法人ID検証
* **画像処理**：アップロードプレビューと権限管理

### 4. コンテンツ管理 (`article.vue`)

```vue
<rich-text :nodes="info.content"></rich-text>
<button @click="downLoad(v.file)">添付ファイルをダウンロード</button>
```

* **リッチテキスト表示**：安全なHTMLコンテンツレンダリング
* **ファイル管理**：

  * 画像のズームプレビュー
  * 権限チェック付きの安全なファイルダウンロード
* **コメントシステム**：ユーザータグ付きのネストコメントスレッド

### 5. 同意書テンプレート (`agreement.vue`)

```vue
<u-parse :html="content"></u-parse>
```

* **動的コンテンツロード**：バックエンドから同意書を取得
* **二種類のテンプレート対応**：

  * ユーザー同意書
  * パートナー契約書

### 6. 請求システム (`bill/detail.vue`)

```vue
<view v-if="bill.status == 1">ステータス：未払い</view>
<button @click="viewPayType">今すぐ支払う</button>
```

* **支払い状況の追跡**：リアルタイムの請求状況更新
* **統一決済インターフェース**：再利用可能な決済コンポーネント
* **バウチャー計算**：ポイントから現金への動的換算

## 技術的ハイライト

### コア技術

* **UniAppフレームワーク**：クロスプラットフォーム開発
* **Vue.jsコンポジション**：リアクティブデータ管理
* **uView UI**：統一されたコンポーネントライブラリ
* **WeChatミニプログラムAPI**：ネイティブ機能統合

### セキュリティ対策

```javascript
// トークン検証サンプル
app.isLogin().then(() => {
  app.checkLogin2();
  that.getUser();
});
```

* センシティブ操作のAPIトークン検証
* 写真アルバム権限管理
* 決済パラメータの安全な送信

### パフォーマンス最適化

* 必要に応じた画像読み込み
* コメントのページネーションシステム
* WebViewベースのコンテンツレンダリング (`detail.vue`)
* 広告の遅延読み込みとエラーハンドリング

## 利用シナリオ

1. **マーケティングキャンペーン**：シェア報酬付きのタイムセール
2. **有料コンテンツ**：柔軟な決済オプションによる記事・動画の収益化
3. **B2B認証**：企業パートナーのオンボーディング認証
4. **財務管理**：ミニプログラム内で請求書を管理・支払い
5. **リソース共有**：ビジネスドキュメントの安全な配布

> **注意**：本ミニプログラムはWeChatエコシステムのログイン、決済、シェア機能と統合されており、企業レベルのセキュリティ基準を維持しています。


