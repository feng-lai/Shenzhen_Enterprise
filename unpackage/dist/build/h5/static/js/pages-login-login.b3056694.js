(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"37cd":function(n,t,e){"use strict";e.r(t);var i=e("d896"),a=e.n(i);for(var o in i)"default"!==o&&function(n){e.d(t,n,(function(){return i[n]}))}(o);t["default"]=a.a},"39f9":function(n,t,e){var i=e("d394");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var a=e("4f06").default;a("6804abcf",i,!0,{sourceMap:!1,shadowMode:!1})},"592f":function(n,t,e){"use strict";e.r(t);var i=e("5daa"),a=e("37cd");for(var o in a)"default"!==o&&function(n){e.d(t,n,(function(){return a[n]}))}(o);e("e202");var u,r=e("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"3b219256",null,!1,i["a"],u);t["default"]=c.exports},"5daa":function(n,t,e){"use strict";var i;e.d(t,"b",(function(){return a})),e.d(t,"c",(function(){return o})),e.d(t,"a",(function(){return i}));var a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",[e("v-uni-button",{staticClass:"btn",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.userInfo.apply(void 0,arguments)}}},[n._v("微信用户一键登录")])],1)},o=[]},d394:function(n,t,e){var i=e("24fb");t=i(!1),t.push([n.i,".btn[data-v-3b219256]{width:%?660?%;height:%?90?%;position:fixed;top:50%;left:50%;margin-left:%?-330?%;margin-top:%?-45?%;background-color:#046fba;border-radius:%?10?%;text-align:center;line-height:%?90?%;color:#fff;font-size:%?26?%}",""]),n.exports=t},d896:function(n,t,e){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=getApp(),o={data:function(){return{url:"",uid:""}},onLoad:function(n){i=this,this.uid=n.id?n.id:"",uni.getStorage({key:"url",success:function(n){i.url=n.data}})},onShareAppMessage:function(){},methods:{userInfo:function(n){uni.getUserProfile({desc:"用于完善会员资料",success:function(n){wx.login({success:function(t){if(t.code)if(n.rawData){var e=JSON.parse(n.rawData);e.uid=i.uid,e.code=t.code,a.getPhone().then((function(){e.phone=a.globalData.phone,i.login(JSON.stringify(e))}))}else uni.showToast({title:"请允许授权",icon:"none"});else console.log("失败！"+n.errMsg)}})}})},login:function(n){var t=this;uni.request({url:a.globalData.url+"login",method:"post",data:n,success:function(n){1==n.data.result&&(uni.setStorage({key:"api_token",data:n.data.data}),t.url?uni.redirectTo({url:t.url,fail:function(){uni.reLaunch({url:t.url})}}):uni.reLaunch({url:"/pages/index/index"}))}})}}};t.default=o},e202:function(n,t,e){"use strict";var i=e("39f9"),a=e.n(i);a.a}}]);