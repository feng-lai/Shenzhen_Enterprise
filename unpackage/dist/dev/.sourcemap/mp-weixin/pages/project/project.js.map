{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/project/小微制造项目/Project/NewProject/pages/project/project.vue?2e33","webpack:///C:/Users/Administrator/Desktop/project/小微制造项目/Project/NewProject/pages/project/project.vue?cb2c","webpack:///C:/Users/Administrator/Desktop/project/小微制造项目/Project/NewProject/pages/project/project.vue?f86f","webpack:///C:/Users/Administrator/Desktop/project/小微制造项目/Project/NewProject/pages/project/project.vue?f1a2","uni-app:///pages/project/project.vue","webpack:///C:/Users/Administrator/Desktop/project/小微制造项目/Project/NewProject/pages/project/project.vue?76bb","webpack:///C:/Users/Administrator/Desktop/project/小微制造项目/Project/NewProject/pages/project/project.vue?3395"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","show","autoplay","interval","duration","circular","banner","form","title","price","time","desc","step","text","price_text","type","provide","name","checked","persent","is","file","price1","price2","total","project_config","order_id","checkeds","sum","showPay","payInfo","disabled","class","payType","voucher","payPrice","interstitialAd","id","isAd","onShareAppMessage","methods","viewPayType","uni","icon","d","that","radioChange","del","success","view","url","price_count","get_project_config","set_persent","open_file","urls","IsPicture","strPostfix","chose","count","console","delFile","upload","filePath","complete","getBanner","submit","api_token","method","provider","timeStamp","nonceStr","package","signType","paySign","fail","next","c","p","all","pre","show_text","getWallet","add_text","num","onReady","onLoad","adUnitId","onShow","key","app"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACc;;;AAGpE;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,mQAEN;AACP,KAAK;AACL;AACA,aAAa,yTAEN;AACP,KAAK;AACL;AACA,aAAa,+NAEN;AACP,KAAK;AACL;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtGA;AAAA;AAAA;AAAA;AAAkoB,CAAgB,inBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyLtpB;AACA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;QACAC;QACAC;QACAC;QACAR;QACAS;MACA,GACA;QACAH;QACAC;QACAC;QACAR;QACAS;MACA,EACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAb;QACAc;QACAhB;QACAN;QACAuB;MACA,GACA;QACAf;QACAc;QACAhB;QACAN;QACAuB;MACA,EACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC,oDAEA;EACAC;IACAC;MACA;QACAC;UACAlC;UACAmC;QACA;QACA;MACA;MACA;QACAD;UACAlC;UACAmC;QACA;QACA;MACA;MACA;MACA;MACA;QACA;UACAC;QACA;MACA;MACA;QACAF;UACAlC;UACAmC;QACA;QACA;MACA;MACA;QACAD;UACAlC;UACAmC;QACA;QACA;MACA;MACAE;MACA;QACAA;QACAA;MACA;MACAA;MACAA;MACAA;IACA;IACAC;MACAD;MACA;QACAA;QACAA;MACA;QACAA;QACAA;MACA;IACA;IACAE;MACAL;QACAlC;QACAwC;UACA;YACA;YACA;cACA;gBACAhD;cACA;YACA;YACA6C;UACA;QACA;MACA;IACA;IACAI;MACAP;QACAQ;MACA;IACA;IACA;IACAC;MACA;MACAN;MACAA;MACAA;MACA;MACA;QACA;UACA,gGACAA;UACAA,+FACA7B,sFACA;UACA6B;QACA;MACA;MACAA;MACAA;MACAA;IACA;IACAO;MACAV;QACAQ;QACAF;UACAH;QACA;MACA;IACA;IACAQ;MACA;MAEA;MAEA;QACA;UACAR;QACA;MACA;IAEA;IACAS;MACA;QACAZ;UACAQ;QACA;MACA;QACAR;UACAa;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;QACA;QACA;QACAC;QACA;UACA;QACA;MACA;MACA;IACA;IAEAC;MACA;MACAhB;QACAiB;QACAX;UACAY;UACA;UACA;YACA;cACAlB;gBACAlC;gBACAmC;cACA;cACA;YACA;YACAE;UACA;QACA;MAEA;IACA;IACAgB;MACA;MACAnB;QACAlC;QACAwC;UACA;YACA;YACA;cACA;gBACAhD;cACA;YACA;YACA6C;UACA;QACA;MACA;IACA;IACAiB;MACA;MACA;QACApB;UACAlC;UACAmC;QACA;QACA;MACA;MACAD;MACAA;QACAQ;QACAa;QACA9C;QACA+B;UACA;UACA;YACAH;cACAxB;cACAJ;YACA;UACA;UACAyB;YACAlC;YACAmC;UACA;QACA;QACAqB;UACAtB;QACA;MACA;IACA;IACAuB;MACA;MACAvB;QACAQ;QACAF;UACAH;QACA;MACA;IACA;IACAqB;MACA;QACAxB;UACAlC;UACAmC;QACA;QACA;MACA;MACAD;MACA;QAEA;MACA;MACAA;QACAQ;QACAlD;UACAQ;UACAC;UACAE;UACAD;UACAW;UACAL;UACAmD;UACA3C;UACAF;UACAC;UACAU;QACA;QACAmC;QACApB;UACAN;UACAG;UACA;YACAH;cACA2B;cACAC;cACAC;cACAC;cACAC;cACAC;cACA1B;gBACAN;kBACAQ;kBACAF;oBACA;sBACAH;sBACA;wBACAA;0BACAH;4BACAQ;0BACA;wBACA;sBACA;wBACAR;0BACAQ;wBACA;sBACA;oBAIA;kBACA;gBACA;gBACAR;kBACAlC;kBACAmC;gBACA;cACA;cACAgC;gBACAf;cACA;YACA;UACA;UACAlB;YACAlC;YACAmC;UACA;QACA;MACA;IACA;IACAiC;MACA;QACAlC;UACAlC;UACAmC;QACA;QACA;MACA;MACA;QACAD;UACAlC;UACAmC;QACA;QACA;MACA;MACA;QACAD;UACAlC;UACAmC;QACA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;UACAkC;QACA;QACA;UACAC;QACA;QACA;UACA3D;QACA;QACA;UACA4D;QACA;MACA;MACA;QACArC;UACAlC;UACAmC;QACA;QACA;MACA;MACA;QACAD;UACAlC;UACAmC;QACA;QACA;MACA;MACA;QACAD;UACAlC;UACAmC;QACA;QACA;MACA;MAEA;QACAD;UACAlC;UACAmC;QACA;QACA;MACA;MACA;QACAD;UACAlC;UACAmC;QACA;QACA;MACA;MACAE;MACAA;IACA;IACAmC;MACAnC;IACA;IACAoC;MACApC;MACAA;IACA;IACAqC;MACArC;QAAAsB;MAAA;QACAtB;MACA;IACA;IACAsC;MACA;QACA;UACA;UACA;UACA;YACA;cACAC;YACA;YACA;cACAhE;YACA;UACA;UACA;YACAsB;cACAlC;cACAmC;YACA;YACA;UACA;UACA;YACAE;cACA5B;cACAC;cACAC;cACAR;cACAS;YACA;UACA;QACA;MACA;MACAyB;IACA;EAEA;EAEAwC;IACA;EACA;EACAC;IACAzC;IACAA;IACA;MACAA;QACA0C;MACA;MACA1C;QACAA;MACA;MACAA,4CAEA;MACAA;QACAH;UACAQ;QACA;MACA;IACA;EACA;EACAsC;IACA;IACA;IACA;IACA9C;MACA+C;MACAzF;MACAgD;QACA0C;UACAA;UACA7C;UACAA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACttBA;AAAA;AAAA;AAAA;AAAqsC,CAAgB,gmCAAG,EAAC,C;;;;;;;;;;;ACAztC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/project/project.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/project/project.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./project.vue?vue&type=template&id=968ded8c&\"\nvar renderjs\nimport script from \"./project.vue?vue&type=script&lang=js&\"\nexport * from \"./project.vue?vue&type=script&lang=js&\"\nimport style0 from \"./project.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/project/project.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./project.vue?vue&type=template&id=968ded8c&\"","var components\ntry {\n  components = {\n    uForm: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form/u-form\" */ \"@/uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form-item/u-form-item\" */ \"@/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uCheckboxGroup: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-checkbox-group/u-checkbox-group\" */ \"@/uview-ui/components/u-checkbox-group/u-checkbox-group.vue\"\n      )\n    },\n    uCheckbox: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-checkbox/u-checkbox\" */ \"@/uview-ui/components/u-checkbox/u-checkbox.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uModal: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-modal/u-modal\" */ \"@/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-popup/u-popup\" */ \"@/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uRadioGroup: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-radio-group/u-radio-group\" */ \"@/uview-ui/components/u-radio-group/u-radio-group.vue\"\n      )\n    },\n    uRadio: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-radio/u-radio\" */ \"@/uview-ui/components/u-radio/u-radio.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.step == 2\n      ? _vm.__map(_vm.file, function (v, k) {\n          var $orig = _vm.__get_orig(v)\n          var g0 = _vm.file.length\n          return {\n            $orig: $orig,\n            g0: g0,\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./project.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./project.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<swiper class=\"swiper\" :autoplay=\"autoplay\" :circular=\"circular\" :interval=\"interval\" :duration=\"duration\">\r\n\t\t\t<block v-for=\"(v,k) in banner\" v-if=\"v.type == 2\">\r\n\t\t\t\t<swiper-item>\r\n\t\t\t\t\t<navigator class=\"swiper-item uni-bg-red\" hover-class=\"none\"\r\n\t\t\t\t\t\t:url=\"'/pages/banner/banner?url='+v.url\">\r\n\t\t\t\t\t\t<image :src=\"v.img\" />\r\n\t\t\t\t\t</navigator>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</block>\r\n\t\t</swiper>\r\n\t\t<view style=\"padding:20rpx; border-bottom: 1rpx solid #e4e7ed; color: red;\" v-if=\"step == 1\">\r\n\t\t\t!项目必须含有现货产品、销售渠道才能发起合作</view>\r\n\t\t<u-form :model=\"form\" ref=\"uForm\" class=\"form\">\r\n\t\t\t<view v-if=\"step == 1\">\r\n\t\t\t\t<u-form-item label=\"*项目标题\" label-width=\"auto\" prop=\"title\">\r\n\t\t\t\t\t<u-input v-model=\"form.title\" placeholder=\"请输入项目标题(最多40个字符)\" maxlength=\"40\" />\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item label=\"*预估总投资(万元)\" label-width=\"auto\" prop=\"price\">\r\n\t\t\t\t\t<u-input v-model=\"form.price\" placeholder=\"上限5000万元\" />\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item label=\"*资源分配\" label-width=\"auto\" prop=\"provide\" style=\"border-bottom: 0;\">\r\n\t\t\t\t\t<u-checkbox-group max=\"3\">\r\n\t\t\t\t\t\t<u-checkbox v-model=\"item.checked\" v-for=\"(item, index) in provide\" :key=\"index\"\r\n\t\t\t\t\t\t\t:name=\"item.name\" :label-disabled=\"true\">\r\n\t\t\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t\t\t\t<u-icon name=\"minus-circle\" v-if=\"item.is\" @click=\"del(index)\"></u-icon>\r\n\t\t\t\t\t\t</u-checkbox>\r\n\t\t\t\t\t\t<u-button @click=\"show_text(1)\" size=\"mini\" class=\"button\" style=\"display: flex;\">+</u-button>\r\n\t\t\t\t\t</u-checkbox-group>\r\n\t\t\t\t\t<view style=\"line-height: 30rpx;\"></view>\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item style=\"color: red;\">*添加您创建项目中所需要的资源并勾选您能在项目中提供的资源，未被勾选的资源将被分配到合作方</u-form-item>\r\n\t\t\t\t<u-form-item label=\"*发起方(我提供)\" label-width=\"auto\">\r\n\t\t\t\t\t<view v-for=\"(v,k) in provide\" v-if=\"v.checked\">\r\n\t\t\t\t\t\t{{v.name}}预占投资总额\r\n\t\t\t\t\t\t<u-input v-model=\"v.persent\" class=\"line\" placeholder=\" \" />%\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item label=\"*合作方(我需要)\" label-width=\"auto\">\r\n\t\t\t\t\t<view v-for=\"(v,k) in provide\" v-if=\"!v.checked\">\r\n\t\t\t\t\t\t{{v.name}}预占投资总额\r\n\t\t\t\t\t\t<u-input v-model=\"v.persent\" class=\"line\" placeholder=\" \" />%\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item label=\"*招募时间(月)\" label-width=\"auto\">\r\n\t\t\t\t\t<u-input v-model=\"form.time\" placeholder=\"请输入招募时间(最少一个月)\" type=\"number\" />\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<view class=\"submit\">\r\n\t\t\t\t\t<button @click=\"next\" class=\"other_btn\">下一步</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"step == 2\">\r\n\t\t\t\t<u-form-item label=\"*项目描述\" label-width=\"auto\" prop=\"desc\">\r\n\t\t\t\t\t<u-input v-model=\"form.desc\" placeholder=\"请输入项目描述(最多1000字符)\" type=\"textarea\" cursor-spacing=\"100\"\r\n\t\t\t\t\t\t:border=\"true\" maxlength=\"1000\" :auto-height=\"true\" />\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item label=\"*项目图片(最多10个)\" label-width=\"auto\">\r\n\t\t\t\t\t<view class=\"files\">\r\n\t\t\t\t\t\t<view class=\"row\" v-for=\"(v,k) in file\" v-if=\"file.length\">\r\n\t\t\t\t\t\t\t<image :src=\"'https://xcx.huitengzx.com/storage/file/'+v.file\" @click=\"open_file(v.file)\">\r\n\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<u-icon name=\"close\" size=\"30\" @click=\"delFile(k)\"></u-icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<u-icon name=\"camera\" size=\"60\" class=\"icon\" @click=\"chose()\"></u-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item :label=\"'*'+v.name+'合作要求'\" label-width=\"auto\" :prop=\"'content'+k\" v-for=\"(v,k) in provide\"\r\n\t\t\t\t\tv-if=\"!v.checked\">\r\n\t\t\t\t\t<u-input v-model=\"v.desc\" placeholder=\"请输入合作要求(最多1000字符)\" type=\"textarea\" cursor-spacing=\"100\"\r\n\t\t\t\t\t\t:border=\"true\" maxlength=\"1000\" :auto-height=\"true\" />\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<view class=\"tips\">\r\n\t\t\t\t\t*重要提示：请合理估算项目总投资金额并设置项目所需资源的合作比例，为防止合作各方发布虚假信息和广告信息，合作各方需要按照比例支付押金和服务费，合作招募结束后在用户中心申请退回押金。服务费：项目发起{{project_config.month_cost}}元/月，项目加入{{project_config.join_cost}}元/次。\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"padding-left: 20rpx;\">\r\n\t\t\t\t\t<u-checkbox v-model=\"checkeds\" label-disabled=\"false\"><text @click=\"view()\">《平台招募服务协议》</text>\r\n\t\t\t\t\t</u-checkbox>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"acount\">\r\n\t\t\t\t\t<view style=\"text-align: center;\">相关费用</view>\r\n\t\t\t\t\t<view>服务费:{{price1}}元</view>\r\n\t\t\t\t\t<view>押金<text style=\"color: red;\">(招募结束后退回)</text>:{{price2}}元</view>\r\n\t\t\t\t\t<view>押金计算:</view>\r\n\t\t\t\t\t<view v-for=\"(v,k) in sum\">{{v}}</view>\r\n\t\t\t\t\t<view style=\"text-align: right; font-weight: bold; font-size: 36rpx;\">共:<text\r\n\t\t\t\t\t\t\tstyle=\"color: red;\">{{total}}</text>元</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"submit\">\r\n\t\t\t\t\t<text @click=\"pre\" class=\"other_btn\" style=\"margin-right:20rpx\">上一步</text>\r\n\t\t\t\t\t<text @click=\"viewPayType\" class=\"other_btn\">提交</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-form>\r\n\t\t<swiper class=\"swiper\" :autoplay=\"autoplay\" :circular=\"circular\" :interval=\"interval\" :duration=\"duration\"\r\n\t\t\tstyle=\"padding-bottom: 90rpx;\">\r\n\t\t\t<block v-for=\"(v,k) in banner\" v-if=\"v.type == 3\">\r\n\t\t\t\t<swiper-item>\r\n\t\t\t\t\t<navigator class=\"swiper-item uni-bg-red\" hover-class=\"none\"\r\n\t\t\t\t\t\t:url=\"'/pages/banner/banner?url='+v.url\">\r\n\t\t\t\t\t\t<image :src=\"v.img\" />\r\n\t\t\t\t\t</navigator>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</block>\r\n\t\t</swiper>\r\n\t\t<u-modal v-model=\"show\" @confirm=\"add_text()\">\r\n\t\t\t<u-input v-model=\"text\" placeholder=\"请输入添加的内容\" input-align=\"center\" />\r\n\t\t</u-modal>\r\n\t\t<u-popup v-model=\"showPay\" mode=\"bottom\" :closeable=\"true\" close-icon-color=\"#fff\">\r\n\t\t\t<view class=\"pay_info\">\r\n\t\t\t\t<view class=\"top\">\r\n\t\t\t\t\t<view>支付金额</view>\r\n\t\t\t\t\t<view class=\"price\">{{payPrice}}元<text>{{price_text}}</text></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"title\">项目招募支付</view>\r\n\t\t\t\t<view class=\"type\">支付方式</view>\r\n\t\t\t\t<u-radio-group v-model=\"payType\" wrap=\"true\">\r\n\t\t\t\t\t<u-radio @change=\"radioChange\" v-for=\"(v,k) in payInfo\" :name=\"v.type\" :key=\"k\"  :disabled=\"v.disabled\">\r\n\t\t\t\t\t\t<image :src=\"'https://xcx.huitengzx.com/images/'+v.class+'.png'\" style=\"width: 40rpx; height: 40rpx; vertical-align: middle; margin:0 5rpx\"></image>{{v.name}}\r\n\t\t\t\t\t</u-radio>\r\n\t\t\t\t</u-radio-group>\r\n\t\t\t\t<view class=\"sub\">\r\n\t\t\t\t\t<button class=\"new_pay\" @click=\"submit()\">立即付款</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t\t<view class=\"nav\">\r\n\t\t\t<view class=\"nav_row\">\r\n\t\t\t\t<navigator class=\"left\" hover-class=\"none\" url=\"/pages/index/index\" open-type=\"redirect\">\r\n\t\t\t\t\t<view class=\"img\">\r\n\t\t\t\t\t\t<image src=\"../../static/image/index.png\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t首页\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</navigator>\r\n\t\t\t\t<navigator class=\"left\" hover-class=\"none\" url=\"/pages/project/entry\" open-type=\"redirect\">\r\n\t\t\t\t\t<view class=\"img\">\r\n\t\t\t\t\t\t<image src=\"../../static/image/trend.png\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t招募动态\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</navigator>\r\n\t\t\t\t<!--  #ifndef  H5 -->\r\n\t\t\t\t<view class=\"left active\">\r\n\t\t\t\t\t<view class=\"img\">\r\n\t\t\t\t\t\t<image src=\"../../static/image/issues.png\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t招募合作\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!--  #endif -->\r\n\t\t\t\t<navigator class=\"left\" hover-class=\"none\" url=\"/pages/contact/contact\" open-type=\"redirect\">\r\n\t\t\t\t\t<view class=\"img\">\r\n\t\t\t\t\t\t<image src=\"../../static/image/contact.png\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t联系我们\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</navigator>\r\n\t\t\t\t<!--  #ifndef  H5 -->\r\n\t\t\t\t<navigator class=\"left\" hover-class=\"none\" url=\"/pages/mine/mine\" open-type=\"redirect\">\r\n\t\t\t\t\t<view class=\"img\">\r\n\t\t\t\t\t\t<image src=\"../../static/image/mine.png\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t我的\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</navigator>\r\n\t\t\t\t<!--  #endif -->\r\n\t\t\t</view>\r\n\t\t\t<!--  #ifdef  H5 -->\r\n\t\t\t<view style=\"text-align: center; background-color: #FFFFFF;height: 100rpx;line-height: 100rpx;\">\r\n\t\t\t\t粤ICP备20055018号-2 </view>\r\n\t\t\t<!--  #endif -->\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tvar that\r\n\tconst app = getApp()\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshow: false,\r\n\t\t\t\tautoplay: true,\r\n\t\t\t\tinterval: 2000,\r\n\t\t\t\tduration: 500,\r\n\t\t\t\tcircular: true,\r\n\t\t\t\tbanner: [],\r\n\t\t\t\tform: {\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tprice: '',\r\n\t\t\t\t\ttime: '',\r\n\t\t\t\t\tdesc: ''\r\n\t\t\t\t},\r\n\t\t\t\tstep: 1,\r\n\t\t\t\ttext: '',\r\n\t\t\t\tprice_text:'',\r\n\t\t\t\t//1自定义我提供 2自定义我需要\r\n\t\t\t\ttype: 1,\r\n\t\t\t\tprovide: [{\r\n\t\t\t\t\t\tname: '现货产品',\r\n\t\t\t\t\t\tchecked: false,\r\n\t\t\t\t\t\tpersent: '',\r\n\t\t\t\t\t\tdesc: '',\r\n\t\t\t\t\t\tis: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '销售渠道',\r\n\t\t\t\t\t\tchecked: false,\r\n\t\t\t\t\t\tpersent: '',\r\n\t\t\t\t\t\tdesc: '',\r\n\t\t\t\t\t\tis: ''\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tfile: [],\r\n\t\t\t\tprice1: 0,//服务费\r\n\t\t\t\tprice2: 0,//押金\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\tproject_config: {},\r\n\t\t\t\torder_id: 'H728770629870907',\r\n\t\t\t\tcheckeds: false,\r\n\t\t\t\tsum: [],\r\n\t\t\t\tshowPay: false,\r\n\t\t\t\tpayInfo: [{\r\n\t\t\t\t\t\tname: '微信支付',\r\n\t\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\t\ttype: 1,\r\n\t\t\t\t\t\tprice:0,\r\n\t\t\t\t\t\tclass:'weixin-fill'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '点券支付',\r\n\t\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\t\ttype: 2,\r\n\t\t\t\t\t\tprice:0,\r\n\t\t\t\t\t\tclass:'red-packet-fill'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tpayType:1,\r\n\t\t\t\tvoucher:0,\r\n\t\t\t\tpayPrice:0,\r\n\t\t\t\tinterstitialAd:'',\r\n\t\t\t\tid:'',\r\n\t\t\t\tisAd:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShareAppMessage(res) {\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tviewPayType(){\r\n\t\t\t\tif (!that.file.length) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请至少上传一份附件',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!that.form.desc) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请填写项目描述',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//需要\r\n\t\t\t\tlet d = 1\r\n\t\t\t\tfor (let i in that.provide) {\r\n\t\t\t\t\tif (!that.provide[i].desc && !that.provide[i].checked) {\r\n\t\t\t\t\t\td = ''\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (!d) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请全部补充完整好我需要的合作要求内容',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!that.checkeds) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请勾选平台招募服务协议',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthat.showPay = true\r\n\t\t\t\tif(parseInt(that.voucher) < (parseInt(that.price1)*that.project_config.rate)){\r\n\t\t\t\t\tthat.payInfo[1].disabled = true\r\n\t\t\t\t\tthat.payInfo[1].name = '点券不足'\r\n\t\t\t\t}\r\n\t\t\t\tthat.payInfo[0].price = that.total\r\n\t\t\t\tthat.payInfo[1].price = that.price2\r\n\t\t\t\tthat.payPrice = that.total\r\n\t\t\t},\r\n\t\t\tradioChange(e) {\r\n\t\t\t\tthat.payType = e\r\n\t\t\t\tif(e == 1){\r\n\t\t\t\t\tthat.payPrice = that.total\r\n\t\t\t\t\tthat.price_text = ''\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.payPrice = that.price2\r\n\t\t\t\t\tthat.price_text = '(点券抵扣服务费'+'￥'+that.price1+')'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdel(k) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '是否删除',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tlet data = []\r\n\t\t\t\t\t\t\tfor (let i in that.provide) {\r\n\t\t\t\t\t\t\t\tif (i != k) {\r\n\t\t\t\t\t\t\t\t\tdata.push(that.provide[i])\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.provide = data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tview() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/agreement/agreement'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//计算价格\r\n\t\t\tprice_count() {\r\n\t\t\t\t//服务费\r\n\t\t\t\tthat.price1 = that.project_config.month_cost * that.form.time\r\n\t\t\t\tthat.price2 = 0\r\n\t\t\t\tthat.sum = []\r\n\t\t\t\t//押金\r\n\t\t\t\tfor (let i in that.provide) {\r\n\t\t\t\t\tif (that.provide[i].checked) {\r\n\t\t\t\t\t\tlet price = parseInt(that.form.price) * 10000 * parseInt(that.provide[i].persent) / 100 / 100 *\r\n\t\t\t\t\t\t\tthat.project_config.project_persent\r\n\t\t\t\t\t\tthat.sum.push(that.provide[i].name + ':' + parseInt(that.form.price) + '万元 x ' + parseInt(that\r\n\t\t\t\t\t\t\t\t.provide[i].persent) + '% x ' + that.project_config.project_persent + '% = ' + price +\r\n\t\t\t\t\t\t\t'元')\r\n\t\t\t\t\t\tthat.price2 = price + that.price2\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthat.price2 = that.price2.toFixed(2)\r\n\t\t\t\tthat.total = parseFloat(that.price2) + parseInt(that.price1)\r\n\t\t\t\tthat.payPrice = that.total\r\n\t\t\t},\r\n\t\t\tget_project_config() {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: app.globalData.url + 'project/config',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tthat.project_config = res.data.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tset_persent(e) {\r\n\t\t\t\tlet k = e.currentTarget.dataset.k\r\n\r\n\t\t\t\tlet val = e.detail.value\r\n\r\n\t\t\t\tfor (let i in that.provide) {\r\n\t\t\t\t\tif (i == k) {\r\n\t\t\t\t\t\tthat.provide[i].persent = val\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\topen_file(file) {\r\n\t\t\t\tif (!that.IsPicture(file)) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/docs/docs?data=' + file + '&type=2'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.previewImage({\r\n\t\t\t\t\t\turls: ['https://xcx.huitengzx.com/storage/file/' + file]\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tIsPicture(file) {\r\n\t\t\t\t//判断是否是图片 - strFilter必须是小写列举\r\n\t\t\t\tvar strFilter = \".jpeg|.gif|.jpg|.png|.bmp|.pic|.svg|\"\r\n\t\t\t\tif (file.indexOf(\".\") > -1) {\r\n\t\t\t\t\tvar p = file.lastIndexOf(\".\");\r\n\t\t\t\t\tvar strPostfix = file.substring(p, this.length) + '|';\r\n\t\t\t\t\tstrPostfix = strPostfix.toLowerCase();\r\n\t\t\t\t\tif (strFilter.indexOf(strPostfix) > -1) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\r\n\t\t\tchose: function() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 10,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tconst tempFilePaths = res.tempFiles;\r\n\t\t\t\t\t\tfor (let i in tempFilePaths) {\r\n\t\t\t\t\t\t\tif (tempFilePaths[i].size > 10485760) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '文件超出10M,上传失败',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.upload(tempFilePaths[i].path, tempFilePaths[i].name)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdelFile(k) {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '是否删除',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tlet data = []\r\n\t\t\t\t\t\t\tfor (let i in that.file) {\r\n\t\t\t\t\t\t\t\tif (i != k) {\r\n\t\t\t\t\t\t\t\t\tdata.push(that.file[i])\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.file = data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tupload(file, name) {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tif (that.file.length >= 10) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '只能上传10个文件',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading()\r\n\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\turl: app.globalData.url + 'upload_file',\r\n\t\t\t\t\tfilePath: file,\r\n\t\t\t\t\tname: 'file',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tlet info = JSON.parse(res.data)\r\n\t\t\t\t\t\tif (info.result == 1) {\r\n\t\t\t\t\t\t\tthat.file.push({\r\n\t\t\t\t\t\t\t\tfile: info.data,\r\n\t\t\t\t\t\t\t\tname: name\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: info.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetBanner() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: app.globalData.url + 'banner',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tthat.banner = res.data.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsubmit() {\r\n\t\t\t\tif (!that.payType) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择支付方式',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading()\r\n\t\t\t\tif(that.type == 2){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: app.globalData.url + 'project/save',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttitle: that.form.title,\r\n\t\t\t\t\t\tprice: that.form.price,\r\n\t\t\t\t\t\tdesc: that.form.desc,\r\n\t\t\t\t\t\ttime: that.form.time,\r\n\t\t\t\t\t\tfile: that.file,\r\n\t\t\t\t\t\tprovide: that.provide,\r\n\t\t\t\t\t\tapi_token: app.globalData.api_token,\r\n\t\t\t\t\t\ttotal: that.total,\r\n\t\t\t\t\t\tprice1: that.price1,\r\n\t\t\t\t\t\tprice2: that.price2,\r\n\t\t\t\t\t\tpayType:that.payType\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tthat.order_id = res.data.order_id\r\n\t\t\t\t\t\tif (res.data.result == 1) {\r\n\t\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\t\t\t\t\ttimeStamp: res.data.payInfo.timeStamp,\r\n\t\t\t\t\t\t\t\tnonceStr: res.data.payInfo.nonceStr,\r\n\t\t\t\t\t\t\t\tpackage: res.data.payInfo.package,\r\n\t\t\t\t\t\t\t\tsignType: res.data.payInfo.signType,\r\n\t\t\t\t\t\t\t\tpaySign: res.data.payInfo.paySign,\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\t\turl:app.globalData.url+'project_order/detail/'+that.order_id,\r\n\t\t\t\t\t\t\t\t\t\tsuccess(rss) {\r\n\t\t\t\t\t\t\t\t\t\t\tif(rss.data.result == 1){ \r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.id = rss.data.data.pid\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(that.isAd){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.interstitialAd.show().catch((err) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t    uni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t    \turl: '/pages/project/detail?id='+that.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t    })\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/pages/project/detail?id='+that.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '成功',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tnext() {\r\n\t\t\t\tif (!that.form.title) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请填写项目标题',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!that.form.price) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请填写预估总资产',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (that.form.price > 5000) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '预估总资产最多填5000',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//提供\r\n\t\t\t\tlet c = 1 //必选资源\r\n\t\t\t\tlet p = 1\r\n\t\t\t\tlet persent = 0\r\n\t\t\t\tlet all = 0\r\n\t\t\t\tfor (let i in that.provide) {\r\n\t\t\t\t\tif (that.provide[i].checked && i < 3) {\r\n\t\t\t\t\t\tc = ''\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!that.provide[i].persent) {\r\n\t\t\t\t\t\tp = ''\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (that.provide[i].checked) {\r\n\t\t\t\t\t\tpersent += parseInt(that.provide[i].persent)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (that.provide[i].persent) {\r\n\t\t\t\t\t\tall += parseInt(that.provide[i].persent)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (c) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '我提供的前两项资源必须选择一项',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!p) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请全部分配好发者方和合作方的资源百分比',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (persent < 40) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '发起者占比不能少于40%',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (all != 100) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请合理分配完全部资源，即加起来为100%',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!that.form.time || that.form.time == 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请填写招募时间或招募时间要大于0',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthat.step = 2\r\n\t\t\t\tthat.price_count()\r\n\t\t\t},\r\n\t\t\tpre() {\r\n\t\t\t\tthat.step = 1\r\n\t\t\t},\r\n\t\t\tshow_text(type) {\r\n\t\t\t\tthat.type = type\r\n\t\t\t\tthat.show = true\r\n\t\t\t},\r\n\t\t\tgetWallet(){\r\n\t\t\t\tthat.$u.get('wallet', {api_token:app.globalData.api_token}).then(res => {\r\n\t\t\t\t\tthat.voucher = res.data.voucher\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tadd_text() {\r\n\t\t\t\tif (that.text) {\r\n\t\t\t\t\tif (that.type == 1) {\r\n\t\t\t\t\t\tlet num = 0\r\n\t\t\t\t\t\tlet is = ''\r\n\t\t\t\t\t\tfor (let i in that.provide) {\r\n\t\t\t\t\t\t\tif (!that.provide.checked) {\r\n\t\t\t\t\t\t\t\tnum++\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (that.text == that.provide[i].name) {\r\n\t\t\t\t\t\t\t\tis = 1\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (num == 5) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '添加失败，合作方最多只能添加5项',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!is) {\r\n\t\t\t\t\t\t\tthat.provide.push({\r\n\t\t\t\t\t\t\t\tname: that.text,\r\n\t\t\t\t\t\t\t\tchecked: false,\r\n\t\t\t\t\t\t\t\tpersent: '',\r\n\t\t\t\t\t\t\t\tdesc: '',\r\n\t\t\t\t\t\t\t\tis: 1\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthat.text = ''\r\n\t\t\t},\r\n\r\n\t\t},\r\n\r\n\t\tonReady() {\r\n\t\t\tthis.$refs.uForm.setRules(this.rules);\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthat = this\r\n\t\t\tthat.get_project_config()\r\n\t\t\tif (wx.createInterstitialAd) {\r\n\t\t\t  that.interstitialAd = wx.createInterstitialAd({\r\n\t\t\t\t\tadUnitId: 'adunit-f615cd138fbba936'\r\n\t\t\t  })\r\n\t\t\t  that.interstitialAd.onLoad(() => {\r\n\t\t\t\t\tthat.isAd = true\r\n\t\t\t  })\r\n\t\t\t  that.interstitialAd.onError((err) => {\r\n\t\t\t\t\t\r\n\t\t\t  })\r\n\t\t\t  that.interstitialAd.onClose(() => {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/project/detail?id='+that.id\r\n\t\t\t\t})\r\n\t\t\t  })\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tvar pages = getCurrentPages()\r\n\t\t\tvar page = pages[pages.length - 1];\r\n\t\t\tvar that = this; //是否已登录\r\n\t\t\tuni.setStorage({\r\n\t\t\t\tkey: 'url',\r\n\t\t\t\tdata: '/' + page.route,\r\n\t\t\t\tsuccess: function() {\r\n\t\t\t\t\tapp.isLogin().then(function() {\r\n\t\t\t\t\t\tapp.checkLogin()\r\n\t\t\t\t\t\tthat.getBanner()\r\n\t\t\t\t\t\tthat.getWallet()\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import \"uview-ui/index.scss\";\r\n\t@import url('@/static/css/project.css')\r\n</style>\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./project.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./project.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1703134678634\n      var cssReload = require(\"C:/Users/Administrator/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}